<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - PROJECT UNITE</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
    <!-- Background Design -->
    <div class="background-design">
        <img src="https://api.builder.io/api/v1/image/assets/TEMP/69e5a03207d72e05249171283d6b3fef53da98b7?width=3356" alt="" class="bg-logo-1">
        <img src="https://api.builder.io/api/v1/image/assets/TEMP/5bae535a77c2066496e68aa5ed0ea8132703a86a?width=4062" alt="" class="bg-logo-2">
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <ul class="nav-links">
            <li><a href="{% url 'landing' %}">HOME</a></li>
            <li><a href="#about">ABOUT US</a></li>
            <li><a href="#purpose">PURPOSE</a></li>
        </ul>
        <div style="margin-left:auto; display:flex; gap:12px; align-items:center;">
            <button id="openSignup" class="cta-button" style="background:transparent;color:var(--primary-blue);border:2px solid var(--primary-blue);padding:8px 14px;">Sign Up</button>
            <button id="openLogin" class="cta-button">Log In</button>
            <div id="profile-info" style="display:none;align-items:center;gap:8px;margin-left:12px;">
                <img id="nav-avatar-img" src="" alt="avatar" style="width:36px;height:36px;border-radius:50%;object-fit:cover;display:none;">
                <span id="nav-username-display"></span>
            </div>
            <button id="logoutBtn" style="display:none;background:transparent;border:none;color:var(--text-dark);">Logout</button>
        </div>
    </nav>

    <!-- Login Content -->
    <main class="login-container fade-in">
        <div class="login-card">
            <div class="login-left">
                <div class="login-welcome">welcome</div>
                <h1 class="login-title">PROJECT UNITE</h1>
                <p class="login-subtitle">INEFFICIENT OFFICER ATTENDANCE LOGGING AND INVENTORY TRACKING</p>

                <form method="post" class="login-form" action="{% url 'login' %}">
                    {% csrf_token %}
                    <input id="login_identifier" type="text" name="username" placeholder="username or email" class="form-input" required>
                    <div style="position:relative;">
                        <input id="login_password" type="password" name="password" placeholder="password" class="form-input" required>
                        <span tabindex="0" class="pw_hide" style="position:absolute;right:12px;top:10px;cursor:pointer;">üëÅÔ∏è</span>
                    </div>
                    <button type="submit" class="login-button">Login</button>
                </form>

                {% if messages %}
                    <div class="messages">
                        {% for message in messages %}
                            <div class="message {{ message.tags }}">{{ message }}</div>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <div class="login-right">
                <div class="logo-container">
                    <img src="https://api.builder.io/api/v1/image/assets/TEMP/a65df8bbc0c314444292b21f3727e85bdea1974e?width=1426" alt="PROJECT UNITE Logo" class="logo-image">
                </div>
            </div>
        </div>
    </main>

    <!-- Auth Modal (shared) -->
    <div class="home hidden" style="position:fixed;inset:0;background:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;z-index:60;">
        <div class="form_container" style="background:var(--white);padding:24px;border-radius:12px;max-width:900px;width:95%;position:relative;">
            <button class="form_close" style="position:absolute;right:16px;top:16px;">Close</button>
            <div style="display:flex;gap:20px;align-items:stretch;flex-wrap:wrap;">
                <!-- Login Form -->
                <form id="loginForm" class="login_form" aria-hidden="false" style="flex:1;min-width:280px;">
                    <h3>Login</h3>
                    <div style="margin-bottom:12px;"><input id="login_identifier" class="form-input" placeholder="Username or Email"></div>
                    <div style="margin-bottom:12px;position:relative;"><input id="login_password" type="password" class="form-input" placeholder="Password"><span tabindex="0" class="pw_hide" style="position:absolute;right:12px;top:10px;cursor:pointer;">üëÅÔ∏è</span></div>
                    <button class="login-button" type="submit">Login Now</button>
                </form>

                <!-- Signup Form -->
                <form id="signupForm" class="signup_form" aria-hidden="true" style="flex:1;min-width:280px;">
                    <h3>Sign Up</h3>
                    <div style="margin-bottom:12px;"><input id="signup_username" class="form-input" placeholder="Username"></div>
                    <div style="margin-bottom:12px;"><input id="signup_email" type="email" class="form-input" placeholder="Email"></div>
                    <div style="margin-bottom:12px;position:relative;"><input id="signup_password" type="password" class="form-input" placeholder="Password"><span tabindex="0" class="pw_hide" style="position:absolute;right:12px;top:10px;cursor:pointer;">üëÅÔ∏è</span></div>
                    <div style="margin-bottom:12px;position:relative;"><input id="confirm_password" type="password" class="form-input" placeholder="Confirm Password"><span tabindex="0" class="pw_hide" style="position:absolute;right:12px;top:10px;cursor:pointer;">üëÅÔ∏è</span></div>
                    <button id="signup" class="login-button" type="submit">Sign Up Now</button>
                </form>
            </div>
        </div>
    </div>

    <script src="{% static 'js/main.js' %}"></script>
</body>
</html>
